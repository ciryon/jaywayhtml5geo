<!DOCTYPE HTML>
<html>

<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8">
	<title>HelloGeo! - by Christian and Ester</title>
	<script src="http://maps.google.com/maps/api/js?sensor=false" type="text/javascript"></script>
	<script type="text/javascript" charset="utf-8">

		function updateLabelWith (position) {
			var loc = document.getElementById("locationLabel");
			var string = position.coords.longitude + "," + position.coords.latitude;
			loc.textContent = string;	
		}
		
		function errorCallback(error) {
			alert("Could not get location: "+error);
		}
		
		function startUpdating() {
			navigator.geolocation.getCurrentPosition(success,
		                                             errorCallback,
		                                             {maximumAge:600000});
		}
		
		function onPageLoad () {
			initialize();
			startUpdating();
			var map = new google.maps.Map(document.getElementById("map_canvas"),
			    myOptions);
		}
		
		var map; // Define a global to hold the map object
		function success(position)
		{
		     // Define the coordinates as a Google Maps LatLng Object
		     var coords = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);

		     // Prepare the map options
		     var mapOptions = {
		                    zoom: 10,
		                    center: coords,
		                    mapTypeControl: false,
		                    navigationControlOptions: {style: google.maps.NavigationControlStyle.SMALL},
		                    mapTypeId: google.maps.MapTypeId.ROADMAP
		            };
		     // Create the map, and place it in the map_canvas div
		     map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);

		     // Place the initial marker
		     var marker = new google.maps.Marker({
		                    position: coords,
		                    map: map,
		                    title: "Your current location!"
		            });
		}
		
	</script>
</head>

<body id="hellogeo" onload="onPageLoad()">
	
	<h2>Hello Geo!</h2>
	
	<p id="locationLabel">Waiting...</p>
	
	<div id="map_canvas" style="width: 600px; height: 400px; border-right: 1px solid #666666; border-bottom: 1px solid #666666; border-top: 1px solid #AAAAAA; border-left: 1px solid #AAAAAA; margin: 20px;"></div>
	
	
	
</body>
</html>